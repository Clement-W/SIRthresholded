<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Apply a single-index optimally soft/hard thresholded \(SIR\) with \(H\) slices on 
`n_replications` bootstraped replications of \((X,Y)\). The optimal number of 
selected variables is the number of selected variables that came back most often 
among the replications performed. From this, we can get the corresponding \(\hat{b}\) 
and \(\lambda_{opt}\) that produce the same number of selected variables in the result of 
`SIR_threshold_opt`."><title>SIR optimally thresholded on bootstraped replications — SIR_threshold_bootstrap • SIRthresholded</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="SIR optimally thresholded on bootstraped replications — SIR_threshold_bootstrap"><meta property="og:description" content="Apply a single-index optimally soft/hard thresholded \(SIR\) with \(H\) slices on 
`n_replications` bootstraped replications of \((X,Y)\). The optimal number of 
selected variables is the number of selected variables that came back most often 
among the replications performed. From this, we can get the corresponding \(\hat{b}\) 
and \(\lambda_{opt}\) that produce the same number of selected variables in the result of 
`SIR_threshold_opt`."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SIRthresholded</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/SIRthresholded.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>SIR optimally thresholded on bootstraped replications</h1>
      
      <div class="d-none name"><code>SIR_threshold_bootstrap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Apply a single-index optimally soft/hard thresholded \(SIR\) with \(H\) slices on 
`n_replications` bootstraped replications of \((X,Y)\). The optimal number of 
selected variables is the number of selected variables that came back most often 
among the replications performed. From this, we can get the corresponding \(\hat{b}\) 
and \(\lambda_{opt}\) that produce the same number of selected variables in the result of 
`SIR_threshold_opt`.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">SIR_threshold_bootstrap</span><span class="op">(</span></span>
<span>  <span class="va">Y</span>,</span>
<span>  <span class="va">X</span>,</span>
<span>  H <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  thresholding <span class="op">=</span> <span class="st">"hard"</span>,</span>
<span>  n_replications <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  graph <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  output <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_lambda <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  k <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  choice <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>Y</dt>
<dd><p>A numeric vector representing the dependent variable (a response vector).</p></dd>


<dt>X</dt>
<dd><p>A matrix representing the quantitative explanatory variables (bind by column).</p></dd>


<dt>H</dt>
<dd><p>The chosen number of slices (default is 10).</p></dd>


<dt>thresholding</dt>
<dd><p>The thresholding method to choose between hard and soft (default is hard).</p></dd>


<dt>n_replications</dt>
<dd><p>The number of bootstraped replications of (X,Y) done to
estimate the model (default is 50).</p></dd>


<dt>graph</dt>
<dd><p>A boolean, set to TRUE to plot graphs (default is TRUE).</p></dd>


<dt>output</dt>
<dd><p>A boolean, set to TRUE to print information (default is TRUE).</p></dd>


<dt>n_lambda</dt>
<dd><p>The number of lambda to test. The n_lambda tested lambdas are
uniformally distributed between 0 and the maximum value of the interest matrix (default is 100).</p></dd>


<dt>k</dt>
<dd><p>Multiplication factor of the bootstrapped sample size
(default is 1 = keep the same size as original data).</p></dd>


<dt>choice</dt>
<dd><p>the graph to plot:</p><ul><li><p>"estim_ind" Plot the estimated index by the SIR model versus Y.</p></li>
<li><p>"size" Plot the size of the models across the replications.</p></li>
<li><p>"selec_var" Plot the occurrence of the selected variables across the replications.</p></li>
<li><p>"coefs_b" Plot the value of b across the replications.</p></li>
<li><p>"lambdas_replic" Plot the optimal lambdas across the replications.</p></li>
<li><p>"" Plot every graphs (default).</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class SIR_threshold_bootstrap, with attributes:</p>
<dl><dt>b</dt>
<dd><p>This is the optimal estimated EDR direction, which is the principal 
eigenvector of the interest matrix.</p></dd>

<dt>lambda_opt</dt>
<dd><p>The optimal lambda.</p></dd>

<dt>vec_nb_var_selec</dt>
<dd><p>Vector that contains the number of selected variables 
for each replications.</p></dd>

<dt>occurrences_var</dt>
<dd><p>Vector that contains at index i the number of times the 
i_th variable has been selected in a replication.</p></dd>

<dt>call</dt>
<dd><p>Unevaluated call to the function.</p></dd>

<dt>nb_var_selec_opt</dt>
<dd><p>Optimal number of selected variables which is the number 
of selected variables that came back most often among the replications performed.</p></dd>

<dt>list_relevant_variables</dt>
<dd><p>A list that contains the variables selected by 
the model.</p></dd>

<dt>n</dt>
<dd><p>Sample size.</p></dd>

<dt>p</dt>
<dd><p>The number of variables in X.</p></dd>

<dt>H</dt>
<dd><p>The chosen number of slices.</p></dd>

<dt>n_replications</dt>
<dd><p>The number of bootstraped replications of (X,Y) done to
estimate the model.</p></dd>

<dt>thresholding</dt>
<dd><p>The thresholding method used.</p></dd>

<dt>X_reduced</dt>
<dd><p>The X data restricted to the variables selected by the model.
It can be used to estimate a new SIR model on the relevant variables to improve
the estimation of b.</p></dd>

<dt>mat_b</dt>
<dd><p>Contains the estimation b at each bootstraped replications.</p></dd>

<dt>lambdas_opt_boot</dt>
<dd><p>Contains the optimal lambda found by SIR_threshold_opt at 
each replication.</p></dd>

<dt>index_pred</dt>
<dd><p>The index Xb' estimated by SIR.</p></dd>

<dt>Y</dt>
<dd><p>The response vector.</p></dd>

<dt>M1</dt>
<dd><p>The interest matrix thresholded with the optimal lambda.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Generate Data</span></span></span>
<span class="r-in"><span><span class="co"># set.seed(8)</span></span></span>
<span class="r-in"><span><span class="co"># n &lt;-  170</span></span></span>
<span class="r-in"><span><span class="co"># beta &lt;- c(1,1,1,1,1,rep(0,15))</span></span></span>
<span class="r-in"><span><span class="co"># X &lt;- mvtnorm::rmvnorm(n,sigma=diag(1,20))</span></span></span>
<span class="r-in"><span><span class="co"># eps &lt;- rnorm(n,sd=8)</span></span></span>
<span class="r-in"><span><span class="co"># Y &lt;- (X%*%beta)**3+eps</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Apply SIR with hard thresholding</span></span></span>
<span class="r-in"><span><span class="co"># SIR_threshold_bootstrap(Y,X,H=10,n_lambda=300,thresholding="hard", n_replications=30,k=2)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Apply SIR with soft thresholding</span></span></span>
<span class="r-in"><span><span class="co"># SIR_threshold_bootstrap(Y,X,H=10,n_lambda=300,thresholding="soft",n_replications=30,k=2)</span></span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Clément Weinreich, Jerome Saracco, Hadrien Lorenzo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

